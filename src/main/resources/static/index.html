<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>Agendamento - Barbearia do 츼tila</title>
    <link rel="stylesheet" href="css/style.css">
</head>
<body>

<div class="container" style="display: flex;">
    <div class="foto no-print">
        <a href="admin.html" class="link-logo-secreto" title="Agendamento">
            <img src="images/logo.jpeg" alt="Logo da Barbearia" />
        </a>
    </div>

    <div class="card">
        <h2>Agendamento</h2>
        <hr class="linha-separadora" />
        <p><strong>Hor치rio de Funcionamento:</strong> 9h 맙 19h</p>
        <p><strong>Dias de Atendimento:</strong> S치bado a Sexta (Exceto Segunda-feira e Domingo)</p>
        <p><strong>Intervalo:</strong> 12h 맙 13h</p>
        <hr class="linha-separadora" />

        <form id="form-agendamento">
            <div id="etapa1" class="etapa ativa">
                <label for="nome">Nome completo do Cliente</label>
                <input type="text" id="nome" name="nome" placeholder="Digite seu nome" required />

                <label for="telefone">Telefone/WhatsApp</label>
                <input type="tel" id="telefone" name="telefone" placeholder="(99) 99999-9999" required />

                <button type="button" class="botao" id="proximaEtapa">Pr칩xima</button>
            </div>

            <div id="etapa2" class="etapa">
                <p style="margin-bottom: 12px;"><strong>Servi칞os (escolha um ou mais)</strong></p>
                <div class="servicos">
                    <label><span>Corte - R$40,00</span><input type="checkbox" value="40"></label>
                    <label><span>Barba - R$40,00</span><input type="checkbox" value="40"></label>
                    <label><span>Corte e Sobrancelha - R$55,00</span><input type="checkbox" value="55"></label>
                    <label><span>Corte e Barba - R$80,00</span><input type="checkbox" value="80"></label>
                    <label><span>Corte e Selagem - R$115,00</span><input type="checkbox" value="115"></label>
                    <label><span>Selagem - R$75,00</span><input type="checkbox" value="75"></label>
                    <label><span>Sobrancelha - R$15,00</span><input type="checkbox" value="15"></label>
                </div>

                <hr class="linha-separadora">
                <p><strong>Total Estimado:</strong> R$ <span id="total">0,00</span></p>
                <hr class="linha-separadora">

                <label for="data">Data do agendamento</label>
                <input type="date" id="data" name="data" required />

                <label for="hora">Hor치rio dispon칤vel (intervalos de 10 min)</label>
                <input type="time" id="hora" name="hora" required step="600" />

                <button type="button" class="botao" id="voltarEtapa">Voltar</button>
                <button type="submit" class="botao">Agendar</button>
            </div>
        </form>

    </div>
</div>

<script type="module">
    // Importa as ferramentas do Firebase
    import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
    import { getFirestore, collection, addDoc, getDocs, query, where, deleteDoc, doc } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js";

    // 游댮 COLE AQUI O CONFIG QUE VOC칅 COPIOU DO SITE DO FIREBASE
    const firebaseConfig = {
    apiKey: "AIzaSyAuk5iamUAqVkRS2nUiYGt23qZ7RGK0-mE",
    authDomain: "barbearia-atila.firebaseapp.com",
    projectId: "barbearia-atila",
    storageBucket: "barbearia-atila.firebasestorage.app",
    messagingSenderId: "992801818692",
    appId: "1:992801818692:web:1fab6f506c3c2282a91411",
    measurementId: "G-R4TCNZ157J"
  };

    // Inicializa
    const app = initializeApp(firebaseConfig);
    const db = getFirestore(app);

    // Deixa o banco acess칤vel para o script.js
    window.db = db;
    window.collection = collection;
    window.addDoc = addDoc;
    window.getDocs = getDocs;
    window.query = query;
    window.where = where;

    // Carrega seu script DEPOIS do Firebase estar pronto
    import("./js/script.js");
</script>

</body>
</html>
